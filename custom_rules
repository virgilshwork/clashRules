######## åœ¨VARnä½ç½®æ’å…¥æ–‡æœ¬
VAR1='LocalAreaNetwork.list'
cat >VAR1<<- 'EOF'
ruleset=ðŸ’Ž åŠ å¯†è´§å¸,https://raw.githubusercontent.com/hellcatjack/clashRules/main/01_cryptoAll.list
ruleset=ðŸ± ç‰¹æ®ŠæŒ‡å®š,https://raw.githubusercontent.com/hellcatjack/clashRules/main/01_special.list
EOF

VAR2='è´Ÿè½½å‡è¡¡`load-balance`'
cat >VAR2<<- 'EOF'
custom_proxy_group=ðŸ° å¸¸è§„è‡ªåŠ¨`url-test`(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼çŽ‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan|ç¾Ž|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸŽ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡ž|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States|å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan|æ–°åŠ å¡|å¡|ç‹®åŸŽ|SG|Singapore|KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ðŸ’Ž åŠ å¯†è´§å¸`select`[]ðŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ðŸ”¯ æ•…éšœè½¬ç§»`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹`[]ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹`[]ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ðŸ‡ºðŸ‡² ç¾Žå›½èŠ‚ç‚¹`[]ðŸ‡°ðŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ðŸš€ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ðŸ± ç‰¹æ®ŠæŒ‡å®š`select`[]ðŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹`[]ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹`[]ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ðŸ‡ºðŸ‡² ç¾Žå›½èŠ‚ç‚¹`[]ðŸ‡°ðŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ðŸš€ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
EOF

######## æ›¿æ¢æ–‡æœ¬ from/toå¿…é¡»æˆå¯¹å‡ºçŽ°
cat >replaceText<<- 'EOF'
select`[]REJECT`[]DIRECT
select`[]PASS`[]DIRECT`[]REJECT
æ¼ç½‘ä¹‹é±¼`select`[]ðŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]DIRECT
æ¼ç½‘ä¹‹é±¼`select`[]DIRECT`[]PASS`[]ðŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©
select`[]ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹`[]ðŸš€ èŠ‚ç‚¹é€‰æ‹©`
select`[]ðŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ðŸ‡¨ðŸ‡³ å°æ¹¾èŠ‚ç‚¹`
æ¸¸æˆå¹³å°`select`[]DIRECT`[]ðŸš€ èŠ‚ç‚¹é€‰æ‹©
æ¸¸æˆå¹³å°`select`[]ðŸš€ èŠ‚ç‚¹é€‰æ‹©`[]DIRECT
èŠ‚ç‚¹é€‰æ‹©`select`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]
èŠ‚ç‚¹é€‰æ‹©`select`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ðŸ° å¸¸è§„è‡ªåŠ¨`[]
EOF

######## æ‰§è¡Œæ’å…¥æŒ‡ä»¤
sed -i "/$VAR1/r VAR1" hellcat.ini
sed -i "/$VAR2/r VAR2" hellcat.ini

######## æ‰§è¡Œæ›¿æ¢æŒ‡ä»¤
checkPoint=0
fromText=""
cat replaceText|while read line
do
  if [ $checkPoint -eq "0" ]; then
        fromText=$line
        checkPoint=1
  else
        sed -i "s/${fromText//\[/\\[}/${line//\[/\\[}/g" hellcat.ini
        checkPoint=0
  fi
done
