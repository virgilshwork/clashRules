######## åœ¨VARnä½ç½®æ’å…¥æ–‡æœ¬
VAR1='LocalAreaNetwork.list'
cat >VAR1<<- 'EOF'
ruleset=ğŸ’ åŠ å¯†è´§å¸,https://raw.githubusercontent.com/hellcatjack/clashRules/main/01_cryptoAll.list
ruleset=ğŸ± ç‰¹æ®ŠæŒ‡å®š,https://raw.githubusercontent.com/hellcatjack/clashRules/main/01_special.list
EOF

VAR2='è´Ÿè½½å‡è¡¡`load-balance`'
cat >VAR2<<- 'EOF'
custom_proxy_group=ğŸ° å¸¸è§„è‡ªåŠ¨`url-test`(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States|å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore|KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ’ åŠ å¯†è´§å¸`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ”¯ æ•…éšœè½¬ç§»`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸ± ç‰¹æ®ŠæŒ‡å®š`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
EOF

######## æ›¿æ¢æ–‡æœ¬ from/toå¿…é¡»æˆå¯¹å‡ºç°
cat >replaceText<<- 'EOF'
select`[]REJECT`[]DIRECT
select`[]PASS`[]DIRECT`[]REJECT
æ¼ç½‘ä¹‹é±¼`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]DIRECT
æ¼ç½‘ä¹‹é±¼`select`[]DIRECT`[]PASS`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©
select`[]ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`
select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹`
æ¸¸æˆå¹³å°`select`[]DIRECT`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©
æ¸¸æˆå¹³å°`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]DIRECT
èŠ‚ç‚¹é€‰æ‹©`select`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]
èŠ‚ç‚¹é€‰æ‹©`select`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ğŸ° å¸¸è§„è‡ªåŠ¨`[]
EOF

######## æŠ“å–ACL4SSR_Online_Full_MultiMode
curl https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full_MultiMode.ini > hellcat.ini

######## æ‰§è¡Œæ’å…¥æŒ‡ä»¤
sed -i "/$VAR1/r VAR1" hellcat.ini
sed -i "/$VAR2/r VAR2" hellcat.ini

######## æ‰§è¡Œæ›¿æ¢æŒ‡ä»¤
checkPoint=0
fromText=""
cat replaceText|while read line
do
  if [ $checkPoint -eq "0" ]; then
        fromText=$line
        checkPoint=1
  else
        sed -i "s/${fromText//\[/\\[}/${line//\[/\\[}/g" hellcat.ini
        checkPoint=0
  fi
done
